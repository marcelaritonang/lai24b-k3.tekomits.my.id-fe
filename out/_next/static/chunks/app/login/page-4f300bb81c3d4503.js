(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2929:(e,t,a)=>{Promise.resolve().then(a.bind(a,4434))},6463:(e,t,a)=>{"use strict";var r=a(1169);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},4434:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(7437),s=a(2265),l=a(6463),i=a(6250),n=a(8606),o=a(7138);function d(e){let{email:t,password:a,setEmail:s,setPassword:l,handleSubmit:i,error:d,loading:c}=e;return(0,r.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center md:text-left",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Welcome Back!"}),(0,r.jsx)("p",{className:"text-gray-500 mt-2",children:"Please enter your details to sign in"})]}),(0,r.jsxs)("form",{onSubmit:i,className:"space-y-4",children:[d&&(0,r.jsx)("div",{className:"p-3 text-sm text-red-500 bg-red-50 rounded-lg",children:d}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{type:"email",value:t,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition",placeholder:"Enter your email",required:!0,disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)("input",{type:"password",value:a,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition",placeholder:"Enter your password",required:!0,disabled:c})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"remember",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",disabled:c}),(0,r.jsx)("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),(0,r.jsx)(o.default,{href:"/forgot-password",className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:"Forgot password?"})]}),(0,r.jsx)(n.E.button,{whileHover:{scale:c?1:1.01},whileTap:{scale:c?1:.99},type:"submit",className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg transition duration-200 font-medium ".concat(c?"opacity-70 cursor-not-allowed":"hover:opacity-90"),disabled:c,children:c?"Signing in...":"Sign In"})]}),(0,r.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(o.default,{href:"/signup",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign up for free"})]})]})}var c=a(6648);let u=()=>(0,r.jsx)(n.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"hidden md:block",children:(0,r.jsx)("div",{className:"relative h-full min-h-[400px] w-full rounded-xl bg-gradient-to-br from-indigo-50/50 to-purple-50/50 p-6 overflow-hidden",children:(0,r.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),(0,r.jsx)(c.default,{src:"/static/qr3.jpg",alt:"Login Illustration",width:300,height:300,className:"object-cover relative z-10"})]})})});function m(){let e=(0,l.useRouter)(),[t,a]=(0,s.useState)(""),[n,o]=(0,s.useState)(""),[c,m]=(0,s.useState)(""),[p,x]=(0,s.useState)(!1),h=async a=>{a.preventDefault(),x(!0),m("");try{var r;let a=await fetch("".concat("http://localhost:8080","/v1/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}),s=await a.json();console.log("Login response:",s),a.ok&&(null==s?void 0:null===(r=s.data)||void 0===r?void 0:r.token)?(localStorage.setItem("token",s.data.token),e.push("/dashboard")):m(s.message||"Login failed")}catch(e){console.error("Login error:",e),m("Failed to login. Please try again.")}finally{x(!1)}};return(0,r.jsx)(i.Z,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-white",children:(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center p-4 pt-20",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl grid md:grid-cols-2 gap-8 items-center bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl",children:[(0,r.jsx)(d,{email:t,password:n,setEmail:a,setPassword:o,handleSubmit:h,error:c,loading:p}),(0,r.jsx)(u,{})]})})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[187,648,250,130,215,744],()=>t(2929)),_N_E=e.O()}]);